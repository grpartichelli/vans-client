<form #studentFrom="ngForm" class="routes-dialog" (ngSubmit)="studentFrom.valid && onSubmit()">
  <h2 class="routes-dialog__title">Informações</h2>

  <div class="routes-dialog__body">
    <mat-form-field class="routes-dialog__field">
      <input matInput placeholder="Nome" name="name" [(ngModel)]="route.name" type="text" pattern="[a-z A-Z]*" required>
      <mat-error>
        Insira o nome da rota
      </mat-error>
    </mat-form-field>

    <mat-form-field class="routes-dialog__field" style="margin-bottom: 0">
      <mat-label>Turno</mat-label>
      <mat-select [(ngModel)]="route.shift" name="shift">
        <mat-option
          *ngFor="let shift of shifts"
          [value]="shift.key"
        >
          {{shift.view}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <h2>Rota</h2>

    <button mat-raised-button color="primary" type="button" class="routes-dialog__body-button"
            (click)="openStudentSelectDialog()">
      <mat-icon>person</mat-icon>
      <span>Selecionar estudantes</span>
    </button>

    <mat-divider></mat-divider>
    <span class="routes-dialog__tag" style="margin-top: 16px">Inicio</span>

    <mat-action-list #student class="routes-dialog__list"
                     cdkDropList
                     [cdkDropListData]="route.students"
                     (cdkDropListDropped)="drop($event)"
    >
      <mat-divider></mat-divider>

      <mat-list-item *ngFor="let student of route.students; let i = index;" class="routes-dialog__item" cdkDrag>
        <mat-icon>menu</mat-icon>
        <div style="display: flex; flex-direction: column">
          <div class="routes-dialog__item-text">{{student.name}}</div>
          <div class="routes-dialog__item-sub-text">{{student.address}}</div>
        </div>
        <mat-divider></mat-divider>
      </mat-list-item>
    </mat-action-list>

    <span class="routes-dialog__tag" style="margin-bottom: 16px">Fim</span>
    <mat-divider></mat-divider>
  </div>

  <div class="routes-dialog__buttons">
    <button mat-stroked-button color="primary" class="routes-dialog__button" (click)="close()">
      Cancelar
    </button>
    <button mat-raised-button color="primary" class="routes-dialog__button" (click)="onSubmit()">
      Salvar
    </button>
  </div>
</form>

